<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SO_ACCESSORY</title>
    <style>
        :root { 
            --bg: #ffffff; --card: #f5f5f7; --text: #1d1d1f; 
            --accent: #0071e3; --wa-green: #2ecc71; --header-bg: rgba(255, 255, 255, 0.7);
            --gradient: linear-gradient(135deg, #6e8efb, #a777e3, #eb5757);
            --fav-red: #ff3b30;
        }
        .dark { 
            --bg: #000000; --card: #1c1c1e; --text: #f5f5f7; 
            --header-bg: rgba(0, 0, 0, 0.7);
            --gradient: linear-gradient(135deg, #a777e3, #6e8efb, #00d2ff);
        }
        body { background-color: var(--bg); color: var(--text); font-family: -apple-system, system-ui, sans-serif; margin: 0; transition: 0.5s; -webkit-font-smoothing: antialiased; }
        
        header { position: sticky; top: 0; z-index: 1000; padding: 10px 8%; display: flex; justify-content: space-between; align-items: center; background: var(--header-bg); backdrop-filter: saturate(180%) blur(20px); border-bottom: 1px solid rgba(0,0,0,0.05); }
        .nav-actions { display: flex; align-items: center; gap: 15px; }
        
        .search-box { background: rgba(0,0,0,0.04); padding: 5px 12px; border-radius: 20px; display: flex; align-items: center; }
        .dark .search-box { background: rgba(255,255,255,0.08); }
        .search-box input { border: none; background: none; color: inherit; outline: none; width: 80px; font-size: 0.85rem; }

        /* HERO SECTION UPDATED */
        .hero { height: 25vh; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 0 20px; }
        .hero h1 { 
            font-size: clamp(2.5rem, 6vw, 4rem); font-weight: 800; margin: 0; letter-spacing: -2px;
            background: var(--gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
        }
        .hero p { 
            font-size: 1.1rem; color: #86868b; margin-top: 10px; font-weight: 400; max-width: 600px; line-height: 1.4;
        }

        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 30px; padding: 20px 8% 80px; }
        .kart { background: var(--card); border-radius: 30px; padding: 20px; transition: 0.4s; position: relative; display: flex; flex-direction: column; }
        
        #auth-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.4); backdrop-filter: blur(15px); z-index: 3000; display: none; align-items: center; justify-content: center; }
        .modal-content { background: var(--bg); padding: 35px; border-radius: 30px; width: 340px; text-align: center; position: relative; box-shadow: 0 20px 50px rgba(0,0,0,0.2); }
        .modal-close-btn { position: absolute; top: 20px; right: 20px; background: rgba(0,0,0,0.05); border: none; width: 30px; height: 30px; border-radius: 50%; cursor: pointer; }
        
        .side-panel { position: fixed; top: 0; right: -450px; width: 400px; height: 100vh; background: var(--bg); z-index: 2000; transition: 0.5s cubic-bezier(0.19, 1, 0.22, 1); padding: 30px; box-sizing: border-box; display: flex; flex-direction: column; box-shadow: -10px 0 40px rgba(0,0,0,0.1); }
        .side-panel.open { right: 0; }
        
        .badge { position: absolute; top: -5px; right: -8px; background: var(--accent); color: white; font-size: 0.7rem; padding: 2px 6px; border-radius: 10px; }
        .icon-btn { position: relative; cursor: pointer; font-size: 1.3rem; background: none; border: none; color: inherit; transition: 0.3s; }
        .input-group input, .input-group textarea { width: 100%; padding: 14px; margin: 8px 0; border-radius: 12px; border: 1px solid rgba(0,0,0,0.1); background: rgba(0,0,0,0.02); color: inherit; outline: none; box-sizing: border-box; }

        @media (max-width: 600px) { .side-panel { width: 100%; } .grid { grid-template-columns: 1fr 1fr; gap: 10px; padding: 10px; } }
    </style>
</head>
<body>

<header>
    <div style="font-weight: 900; font-size: 1.2rem; cursor:pointer" onclick="location.reload()">SO_ACCESSORY</div>
    <div class="nav-actions">
        <div class="search-box">üîç <input type="text" id="searchInput" placeholder="Ara" oninput="search()"></div>
        <div id="u-display" onclick="handleU()" style="cursor:pointer; font-size: 0.85rem; font-weight:600;">Giri≈ü</div>
        <button class="icon-btn" onclick="toggleP('fav-p')">‚ù§Ô∏è<span id="f-count" class="badge">0</span></button>
        <button class="icon-btn" onclick="toggleP('cart-p')">üëú<span id="c-count" class="badge">0</span></button>
        <button class="icon-btn" onclick="tTheme()" id="t-btn">‚òÄÔ∏è</button>
    </div>
</header>

<section class="hero">
    <h1>Tarzƒ±nƒ± Yansƒ±t.</h1>
    <p>Sƒ±radanlƒ±ƒüƒ± geride bƒ±rakƒ±n, detaylardaki zarafeti ke≈üfedin. Sizin hikayeniz, sizin aksesuarlarƒ±nƒ±z.</p>
</section>

<main class="grid" id="p-grid"></main>

<div id="auth-modal">
    <div class="modal-content" id="l-box">
        <button class="modal-close-btn" onclick="closeA()">‚úï</button>
        <h2>Giri≈ü Yap</h2>
        <div class="input-group">
            <input type="text" id="ln" placeholder="ƒ∞sminiz">
            <input type="password" id="lp" placeholder="≈ûifreniz">
        </div>
        <button onclick="login()" style="width:100%; padding:15px; background:var(--text); color:var(--bg); border:none; border-radius:15px; font-weight:700; cursor:pointer;">Devam Et</button>
        <p onclick="switchA('r')" style="font-size:0.9rem; cursor:pointer; margin-top:20px; color:var(--accent)">Hemen Kayƒ±t Ol</p>
    </div>
    
    <div class="modal-content" id="r-box" style="display:none">
        <button class="modal-close-btn" onclick="closeA()">‚úï</button>
        <h2>Yeni √úyelik</h2>
        <div class="input-group">
            <input type="text" id="rn" placeholder="Ad Soyad">
            <input type="password" id="rp" placeholder="≈ûifre">
            <textarea id="ra" placeholder="Teslimat Adresiniz (Sipari≈ü i√ßin gereklidir)" rows="3"></textarea>
        </div>
        <button onclick="register()" style="width:100%; padding:15px; background:var(--accent); color:white; border:none; border-radius:15px; font-weight:700; cursor:pointer;">Kaydƒ± Tamamla</button>
        <p onclick="switchA('l')" style="font-size:0.9rem; cursor:pointer; margin-top:20px;">Giri≈ü Ekranƒ±na D√∂n</p>
    </div>
</div>

<div id="cart-p" class="side-panel">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px">
        <h2>√áantam üëú</h2>
        <button onclick="toggleP('cart-p')" style="background:none; border:none; font-size:1.5rem; cursor:pointer">‚úï</button>
    </div>
    <div id="c-items" style="flex:1; overflow-y:auto"></div>
    <div style="margin-top:auto; padding-top:20px; border-top:1px solid rgba(0,0,0,0.05)">
        <div style="display:flex; justify-content:space-between; font-weight:800; font-size:1.3rem; margin-bottom:20px"><span>Toplam</span> <span id="t-price">0 TL</span></div>
        <button onclick="order()" style="width:100%; padding:15px; background:var(--wa-green); color:white; border:none; border-radius:15px; font-weight:700; cursor:pointer;">WhatsApp ile Sipari≈üi Tamamla</button>
    </div>
</div>

<div id="fav-p" class="side-panel">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px">
        <h2>Favoriler ‚ù§Ô∏è</h2>
        <button onclick="toggleP('fav-p')" style="background:none; border:none; font-size:1.5rem; cursor:pointer">‚úï</button>
    </div>
    <div id="f-items"></div>
</div>

<script>
    const tel = "905319160517";
    const products = [
        { id: 1, ad: "Zarif Tek Ta≈ü Kolye", fiyat: 200, resim: "https://cdn.shopier.app/pictures_mid/SO_ACCESSORY_6066f6b707841ca996f55799cd597b8e.jpeg" },
        { id: 2, ad: "Papatya Desenli Kƒ±lƒ±f", fiyat: 350, resim: "https://cdn.shopier.app/pictures_mid/SO_ACCESSORY_daafe5c82bb236edc4781ed0675d1f7a.jpeg" },
        { id: 3, ad: "Ye≈üil Lotus √ái√ßeƒüi Seti", fiyat: 350, resim: "https://cdn.shopier.app/pictures_large/SO_ACCESSORY_25fd6aaa15e32d8a0df01285acade74e.jpeg" },
        { id: 4, ad: "Roma Rakamlƒ± Z√ºmr√ºt Kolye", fiyat: 200, resim: "https://cdn.shopier.app/pictures_large/SO_ACCESSORY_13cde4ecda550267783ce66fa91576a8.jpeg" }
    ];

    let cart = JSON.parse(localStorage.getItem('c_v16')) || [];
    let favs = JSON.parse(localStorage.getItem('f_v16')) || [];
    let user = JSON.parse(localStorage.getItem('u_v16')) || null;
    let users = JSON.parse(localStorage.getItem('us_v16')) || [];

    function render(data = products) {
        document.getElementById('p-grid').innerHTML = data.map(p => `
            <div class="kart">
                <div style="height:180px; display:flex; align-items:center; justify-content:center; margin-bottom:15px;"><img src="${p.resim}" style="max-width:85%; max-height:85%;"></div>
                <h3 style="text-align:center; font-size:0.95rem; margin:0 0 10px;">${p.ad}</h3>
                <div style="text-align:center; font-weight:700; color:var(--accent); margin-bottom:15px;">${p.fiyat} TL</div>
                <div style="display:flex; gap:10px; margin-top:auto;">
                    <button onclick="add(${p.id})" style="flex:1; background:var(--text); color:var(--bg); border:none; padding:12px; border-radius:15px; font-weight:600; cursor:pointer;">Ekle</button>
                    <button class="icon-btn" onclick="toggleF(${p.id})" style="width:45px; height:45px; background:rgba(255,59,48,0.1); border-radius:15px; color:var(--fav-red);">${favs.includes(p.id)?'‚ù§Ô∏è':'ü§ç'}</button>
                </div>
            </div>`).join('');
    }

    function add(id) { 
        const h = cart.find(c => c.id === id); 
        if(h) h.adet++; else cart.push({...products.find(p => p.id === id), adet: 1}); 
        save(); toggleP('cart-p');
    }

    function order() {
        if(!cart.length) return;
        if(!user) { alert("Sipari≈ü i√ßin giri≈ü yapmalƒ±sƒ±nƒ±z kankim!"); handleU(); return; }
        let m = `*SO_ACCESSORY Sƒ∞PARƒ∞≈û*%0A*M√º≈üteri:* ${user.n}%0A*Adres:* ${user.a}%0A-----------------%0A`;
        cart.forEach(i => m += `‚Ä¢ ${i.ad} x${i.adet}%0A`);
        m += `-----------------%0A*Toplam:* ${document.getElementById('t-price').innerText}`;
        window.open(`https://wa.me/${tel}?text=${m}`);
    }

    function tTheme() { 
        document.body.classList.toggle('dark'); 
        document.getElementById('t-btn').innerText = document.body.classList.contains('dark') ? 'üåô' : '‚òÄÔ∏è'; 
    }

    function register() {
        const n = document.getElementById('rn').value, p = document.getElementById('rp').value, a = document.getElementById('ra').value;
        if(n && p && a) { users.push({n, p, a}); localStorage.setItem('us_v16', JSON.stringify(users)); switchA('l'); alert("Kayƒ±t ba≈üarƒ±lƒ±! Giri≈ü yapabilirsiniz."); }
    }
    function login() {
        const n = document.getElementById('ln').value, p = document.getElementById('lp').value;
        const f = users.find(u => u.n === n && u.p === p);
        if(f) { user = f; localStorage.setItem('u_v16', JSON.stringify(user)); closeA(); updateU(); } else alert("Kullanƒ±cƒ± bulunamadƒ±!");
    }
    function updateQty(id, d) { const i = cart.find(c => c.id === id); if(i) { i.adet += d; if(i.adet <= 0) cart = cart.filter(c => c.id !== id); save(); } }
    function save() { localStorage.setItem('c_v16', JSON.stringify(cart)); updateC(); }
    function updateC() {
        document.getElementById('c-count').innerText = cart.reduce((a,b)=>a+b.adet, 0);
        let t = 0;
        document.getElementById('c-items').innerHTML = cart.map(i => {
            t += (i.fiyat * i.adet);
            return `<div style="display:flex; align-items:center; gap:10px; margin-bottom:15px;">
                <img src="${i.resim}" width="50" style="border-radius:8px">
                <div style="flex:1; font-size:0.85rem"><b>${i.ad}</b></div>
                <div style="display:flex; align-items:center; gap:8px; background:rgba(0,0,0,0.05); padding:4px 8px; border-radius:10px;">
                    <button onclick="updateQty(${i.id},-1)" style="border:none; background:none; cursor:pointer;">-</button>
                    <span>${i.adet}</span>
                    <button onclick="updateQty(${i.id},1)" style="border:none; background:none; cursor:pointer;">+</button>
                </div>
            </div>`;
        }).join('');
        document.getElementById('t-price').innerText = t + " TL";
    }
    function handleU() { if(!user) document.getElementById('auth-modal').style.display='flex'; else if(confirm("√áƒ±kƒ±≈ü yapƒ±lsƒ±n mƒ±?")) { user = null; localStorage.removeItem('u_v16'); updateU(); } }
    function updateU() { document.getElementById('u-display').innerText = user ? user.n : "Giri≈ü"; }
    function closeA() { document.getElementById('auth-modal').style.display='none'; }
    function switchA(t) { document.getElementById('l-box').style.display = t=='l'?'block':'none'; document.getElementById('r-box').style.display = t=='r'?'block':'none'; }
    function toggleP(id) { document.getElementById(id).classList.toggle('open'); }
    function toggleF(id) { if(favs.includes(id)) favs = favs.filter(f => f!==id); else favs.push(id); localStorage.setItem('f_v16', JSON.stringify(favs)); document.getElementById('f-count').innerText = favs.length; render(); }
    function search() { const t = document.getElementById('searchInput').value.toLowerCase(); render(products.filter(p => p.ad.toLowerCase().includes(t))); }
    window.addEventListener('DOMContentLoaded', () => { render(); updateC(); updateU(); document.getElementById('f-count').innerText = favs.length; });
</script>
</body>
</html>