<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SO_ACCESSORY</title>
    <style>
        :root { 
            --bg: #ffffff; --card: #f5f5f7; --text: #1d1d1f; 
            --pink: #ff2d55; --wa-green: #2ecc71; --header-bg: rgba(255, 255, 255, 0.8);
            --pink-grad: linear-gradient(90deg, #ff2d55, #ff37a6);
        }
        .dark { 
            --bg: #000000; --card: #1c1c1e; --text: #f5f5f7; 
            --header-bg: rgba(0, 0, 0, 0.8);
        }
        body { background-color: var(--bg); color: var(--text); font-family: -apple-system, system-ui, sans-serif; margin: 0; transition: 0.5s; overflow-x: hidden; }
        
        header { position: sticky; top: 0; z-index: 1000; padding: 15px 8%; display: flex; justify-content: space-between; align-items: center; background: var(--header-bg); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(0,0,0,0.05); }

        /* HERO - RECONSTRUCTED */
        .hero { height: 45vh; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        
        .hero-title { 
            font-size: clamp(2rem, 8vw, 4rem); font-weight: 800; margin: 0; letter-spacing: -2px; 
            display: flex; align-items: center; justify-content: center; line-height: 1;
        }

        .tarzini {
            background: var(--pink-grad);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-right: 12px;
        }

        .flow-box {
            height: 1.1em;
            overflow: hidden;
            display: inline-block;
            vertical-align: bottom;
            text-align: left;
        }

        .flow-inner {
            display: flex;
            flex-direction: column;
            animation: slideUp 10s cubic-bezier(0.76, 0, 0.24, 1) infinite;
        }

        .flow-inner span {
            height: 1.1em;
            color: var(--pink); /* Sabit pembe, render hatasƒ±nƒ± √∂nler */
            display: block;
            white-space: nowrap;
        }

        @keyframes slideUp {
            0%, 20% { transform: translateY(0); }
            25%, 45% { transform: translateY(-1.1em); }
            50%, 70% { transform: translateY(-2.2em); }
            75%, 95% { transform: translateY(-3.3em); }
            100% { transform: translateY(0); }
        }

        .hero p { font-size: 1rem; color: #86868b; margin-top: 20px; max-width: 450px; line-height: 1.5; }

        /* GRID & CARDS */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; padding: 0 8% 100px; }
        .kart { background: var(--card); border-radius: 25px; padding: 20px; transition: 0.4s; display: flex; flex-direction: column; border: 1px solid rgba(0,0,0,0.03); }
        .kart:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0,0,0,0.08); }
        
        .side-panel { position: fixed; top: 0; right: -450px; width: 400px; height: 100vh; background: var(--bg); z-index: 2000; transition: 0.5s cubic-bezier(0.19, 1, 0.22, 1); padding: 30px; box-sizing: border-box; box-shadow: -10px 0 30px rgba(0,0,0,0.05); }
        .side-panel.open { right: 0; }
        
        .icon-btn { position: relative; cursor: pointer; font-size: 1.4rem; background: none; border: none; color: inherit; transition: 0.3s; }
        .icon-btn:active { transform: scale(0.9); }
        .badge { position: absolute; top: -5px; right: -8px; background: var(--pink); color: white; font-size: 0.7rem; padding: 2px 6px; border-radius: 10px; font-weight: bold; }
        
        @media (max-width: 600px) { 
            .side-panel { width: 100%; } 
            .hero-title { font-size: 2.2rem; flex-wrap: wrap; }
            .grid { grid-template-columns: 1fr 1fr; gap: 10px; padding: 10px; }
        }
    </style>
</head>
<body>

<header>
    <div style="font-weight: 900; font-size: 1.2rem; cursor:pointer" onclick="location.reload()">SO_ACCESSORY</div>
    <div style="display:flex; align-items:center; gap:20px;">
        <div id="u-display" onclick="handleU()" style="cursor:pointer; font-size: 0.85rem; font-weight:700; color:var(--pink)">Giri≈ü</div>
        <button class="icon-btn" onclick="toggleP('fav-p')">‚ù§Ô∏è<span id="f-count" class="badge">0</span></button>
        <button class="icon-btn" onclick="toggleP('cart-p')">üëú<span id="c-count" class="badge">0</span></button>
        <button class="icon-btn" onclick="tTheme()" id="t-btn">‚òÄÔ∏è</button>
    </div>
</header>

<section class="hero">
    <h1 class="hero-title">
        <span class="tarzini">Tarzƒ±nƒ±</span>
        <div class="flow-box">
            <div class="flow-inner">
                <span>Yansƒ±t.</span>
                <span>Deƒüi≈ütir.</span>
                <span>Konu≈ütur.</span>
                <span>Tamamla.</span>
            </div>
        </div>
    </h1>
    <p>Aksesuar sadece bir detay deƒüil, senin sessiz imzandƒ±r. Her g√ºn√ºn√º SO_ACCESSORY ile parlat.</p>
</section>

<main class="grid" id="p-grid"></main>

<div id="auth-modal" style="position:fixed; inset:0; background:rgba(0,0,0,0.5); backdrop-filter:blur(10px); z-index:3000; display:none; align-items:center; justify-content:center;">
    <div style="background:var(--bg); padding:40px; border-radius:30px; width:320px; text-align:center; position:relative;">
        <button onclick="closeA()" style="position:absolute; top:20px; right:20px; border:none; background:none; cursor:pointer; font-size:1.2rem">‚úï</button>
        <h2 style="margin-bottom:20px">Giri≈ü Yap</h2>
        <input type="text" id="ln" placeholder="ƒ∞sminiz" style="width:100%; padding:15px; margin-bottom:15px; border-radius:12px; border:1px solid #ddd; outline:none;">
        <button onclick="login()" style="width:100%; padding:15px; background:var(--text); color:var(--bg); border:none; border-radius:15px; font-weight:700; cursor:pointer;">Giri≈ü</button>
    </div>
</div>

<div id="cart-p" class="side-panel">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:30px">
        <h2>Sepetim üëú</h2>
        <button onclick="toggleP('cart-p')" style="background:none; border:none; font-size:1.5rem; cursor:pointer">‚úï</button>
    </div>
    <div id="c-items" style="flex:1; overflow-y:auto"></div>
    <div style="margin-top:auto; padding-top:20px; border-top:1px solid rgba(0,0,0,0.05)">
        <div style="display:flex; justify-content:space-between; font-weight:800; font-size:1.3rem; margin-bottom:20px"><span>Toplam</span> <span id="t-price">0 TL</span></div>
        <button onclick="order()" style="width:100%; padding:18px; background:var(--wa-green); color:white; border:none; border-radius:15px; font-weight:800; cursor:pointer;">WhatsApp'tan G√∂nder</button>
    </div>
</div>

<div id="fav-p" class="side-panel">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:30px">
        <h2>Favoriler ‚ù§Ô∏è</h2>
        <button onclick="toggleP('fav-p')" style="background:none; border:none; font-size:1.5rem; cursor:pointer">‚úï</button>
    </div>
    <div id="f-items"></div>
</div>

<script>
    const tel = "905319160517";
    const products = [
        { id: 1, ad: "Zarif Tek Ta≈ü Kolye", fiyat: 200, resim: "https://cdn.shopier.app/pictures_mid/SO_ACCESSORY_6066f6b707841ca996f55799cd597b8e.jpeg" },
        { id: 2, ad: "Papatya Desenli Kƒ±lƒ±f", fiyat: 350, resim: "https://cdn.shopier.app/pictures_mid/SO_ACCESSORY_daafe5c82bb236edc4781ed0675d1f7a.jpeg" },
        { id: 3, ad: "Ye≈üil Lotus √ái√ßeƒüi Seti", fiyat: 350, resim: "https://cdn.shopier.app/pictures_large/SO_ACCESSORY_25fd6aaa15e32d8a0df01285acade74e.jpeg" },
        { id: 4, ad: "Roma Rakamlƒ± Z√ºmr√ºt Kolye", fiyat: 200, resim: "https://cdn.shopier.app/pictures_large/SO_ACCESSORY_13cde4ecda550267783ce66fa91576a8.jpeg" }
    ];

    let cart = JSON.parse(localStorage.getItem('c_v27')) || [];
    let favs = JSON.parse(localStorage.getItem('f_v27')) || [];
    let user = JSON.parse(localStorage.getItem('u_v27')) || null;

    function render() {
        document.getElementById('p-grid').innerHTML = products.map(p => `
            <div class="kart">
                <div style="height:180px; display:flex; align-items:center; justify-content:center; margin-bottom:15px;"><img src="${p.resim}" style="max-width:90%; max-height:90%; border-radius:15px"></div>
                <h3 style="text-align:center; font-size:0.95rem; margin:0 0 10px;">${p.ad}</h3>
                <div style="text-align:center; font-weight:800; color:var(--pink); margin-bottom:15px;">${p.fiyat} TL</div>
                <div style="display:flex; gap:8px; margin-top:auto;">
                    <button onclick="add(${p.id})" style="flex:1; background:var(--text); color:var(--bg); border:none; padding:12px; border-radius:12px; font-weight:700; cursor:pointer;">Ekle</button>
                    <button class="icon-btn" onclick="toggleF(${p.id})" style="width:45px; background:rgba(255,45,85,0.05); border-radius:12px; color:var(--pink);">${favs.includes(p.id)?'‚ù§Ô∏è':'ü§ç'}</button>
                </div>
            </div>`).join('');
    }

    function add(id) { 
        const h = cart.find(c => c.id === id); 
        if(h) h.adet++; else cart.push({...products.find(p => p.id === id), adet: 1}); 
        save(); toggleP('cart-p');
    }
    function updateQty(id, d) { const i = cart.find(c => c.id === id); if(i) { i.adet += d; if(i.adet <= 0) cart = cart.filter(c => c.id !== id); save(); } }
    function save() { localStorage.setItem('c_v27', JSON.stringify(cart)); updateC(); }
    
    function order() {
        if(!cart.length) return;
        if(!user) { alert("L√ºtfen giri≈ü yapƒ±n!"); handleU(); return; }
        let m = `*SO_ACCESSORY Sƒ∞PARƒ∞≈û*%0A*M√º≈üteri:* ${user.n}%0A-----------------%0A`;
        cart.forEach(i => m += `‚Ä¢ ${i.ad} x${i.adet}%0A`);
        m += `-----------------%0A*Toplam:* ${document.getElementById('t-price').innerText}`;
        window.open(`https://wa.me/${tel}?text=${m}`);
    }

    function tTheme() { 
        document.body.classList.toggle('dark'); 
        document.getElementById('t-btn').innerText = document.body.classList.contains('dark') ? 'üåô' : '‚òÄÔ∏è'; 
    }

    function updateC() {
        document.getElementById('c-count').innerText = cart.reduce((a,b)=>a+b.adet, 0);
        let t = 0;
        document.getElementById('c-items').innerHTML = cart.map(i => {
            t += (i.fiyat * i.adet);
            return `<div style="display:flex; align-items:center; gap:10px; margin-bottom:12px; background:rgba(0,0,0,0.02); padding:10px; border-radius:12px">
                <img src="${i.resim}" width="50" style="border-radius:8px">
                <div style="flex:1; font-size:0.8rem"><b>${i.ad}</b></div>
                <div style="display:flex; align-items:center; gap:5px;">
                    <button onclick="updateQty(${i.id},-1)" style="border:none; background:none; cursor:pointer;">-</button>
                    <b>${i.adet}</b>
                    <button onclick="updateQty(${i.id},1)" style="border:none; background:none; cursor:pointer;">+</button>
                </div>
            </div>`;
        }).join('');
        document.getElementById('t-price').innerText = t + " TL";
    }

    function login() { const n = document.getElementById('ln').value; if(n) { user = {n}; localStorage.setItem('u_v27', JSON.stringify(user)); closeA(); updateU(); } }
    function handleU() { if(!user) document.getElementById('auth-modal').style.display='flex'; else if(confirm("√áƒ±kƒ±≈ü?")) { user = null; localStorage.removeItem('u_v27'); updateU(); } }
    function updateU() { document.getElementById('u-display').innerText = user ? user.n : "Giri≈ü"; }
    function closeA() { document.getElementById('auth-modal').style.display='none'; }
    function toggleP(id) { document.getElementById(id).classList.toggle('open'); }
    function toggleF(id) { if(favs.includes(id)) favs = favs.filter(f => f!==id); else favs.push(id); localStorage.setItem('f_v27', JSON.stringify(favs)); document.getElementById('f-count').innerText = favs.length; render(); }
    
    window.addEventListener('DOMContentLoaded', () => { render(); updateC(); updateU(); document.getElementById('f-count').innerText = favs.length; });
</script>
</body>
</html>